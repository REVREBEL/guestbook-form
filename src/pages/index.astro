---
import MainLayout from '../layouts/main.astro';
import { baseUrl } from '../lib/base-url';
---

<MainLayout>
  <div class="min-h-screen bg-background text-foreground">
    <!-- Hero Section -->
    <div class="bg-gradient-to-b from-primary/5 to-background border-b border-border">
      <div class="max-w-4xl mx-auto px-8 py-16">
        <div class="space-y-6 text-center">
          <div class="inline-block px-4 py-2 bg-primary/10 rounded-full text-sm font-medium text-primary border border-primary/20">
            âœ¨ Production Ready
          </div>
          <h1 class="text-5xl md:text-6xl font-bold font-heading">
            Guestbook CMS Integration
          </h1>
          <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
            A complete integration connecting Webflow-generated form components to the Webflow CMS API
          </p>
          <div class="flex gap-4 justify-center pt-4">
            <a
              href={`${baseUrl}/guestbook`}
              class="inline-flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium"
            >
              ğŸ‰ View Demo
            </a>
            <a
              href="#documentation"
              class="inline-flex items-center gap-2 px-6 py-3 bg-card text-foreground rounded-lg border border-border hover:border-primary transition-colors font-medium"
            >
              ğŸ“š Documentation
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="max-w-4xl mx-auto px-8 py-12 space-y-16">
      
      <!-- Features Grid -->
      <section>
        <h2 class="text-3xl font-bold mb-8 font-heading">âœ¨ Features</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="p-6 bg-card rounded-lg border border-border">
            <div class="text-3xl mb-3">ğŸ”„</div>
            <h3 class="text-xl font-semibold mb-2 font-heading">Create & Update</h3>
            <p class="text-muted-foreground">
              Full CRUD operations for guestbook entries with automatic create/update logic
            </p>
          </div>
          
          <div class="p-6 bg-card rounded-lg border border-border">
            <div class="text-3xl mb-3">âœ…</div>
            <h3 class="text-xl font-semibold mb-2 font-heading">Validation</h3>
            <p class="text-muted-foreground">
              Client-side validation with user-friendly error messages before submission
            </p>
          </div>
          
          <div class="p-6 bg-card rounded-lg border border-border">
            <div class="text-3xl mb-3">ğŸ¨</div>
            <h3 class="text-xl font-semibold mb-2 font-heading">Webflow Components</h3>
            <p class="text-muted-foreground">
              Uses your Devlink-generated components - no custom rewrites needed
            </p>
          </div>
          
          <div class="p-6 bg-card rounded-lg border border-border">
            <div class="text-3xl mb-3">ğŸŒ</div>
            <h3 class="text-xl font-semibold mb-2 font-heading">External Embed</h3>
            <p class="text-muted-foreground">
              Can be embedded on pages outside Webflow Cloud with standalone bundle
            </p>
          </div>
          
          <div class="p-6 bg-card rounded-lg border border-border">
            <div class="text-3xl mb-3">ğŸ”</div>
            <h3 class="text-xl font-semibold mb-2 font-heading">Secure</h3>
            <p class="text-muted-foreground">
              API token stays server-side only, all CMS calls through protected routes
            </p>
          </div>
          
          <div class="p-6 bg-card rounded-lg border border-border">
            <div class="text-3xl mb-3">ğŸ“˜</div>
            <h3 class="text-xl font-semibold mb-2 font-heading">Type-Safe</h3>
            <p class="text-muted-foreground">
              Full TypeScript support with proper types for all data structures
            </p>
          </div>
        </div>
      </section>

      <!-- Quick Start -->
      <section class="bg-muted/50 p-8 rounded-lg border border-border">
        <h2 class="text-3xl font-bold mb-6 font-heading">ğŸš€ Quick Start</h2>
        <div class="space-y-6">
          <div>
            <div class="flex items-center gap-3 mb-2">
              <span class="flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground font-bold">1</span>
              <h3 class="text-lg font-semibold">Set Environment Variable</h3>
            </div>
            <div class="ml-11 bg-card p-4 rounded border border-border">
              <code class="text-sm">WEBFLOW_CMS_SITE_API_TOKEN=your_token_here</code>
            </div>
          </div>

          <div>
            <div class="flex items-center gap-3 mb-2">
              <span class="flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground font-bold">2</span>
              <h3 class="text-lg font-semibold">Start Dev Server</h3>
            </div>
            <div class="ml-11 bg-card p-4 rounded border border-border">
              <code class="text-sm">npm run dev</code>
            </div>
          </div>

          <div>
            <div class="flex items-center gap-3 mb-2">
              <span class="flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground font-bold">3</span>
              <h3 class="text-lg font-semibold">Test the Demo</h3>
            </div>
            <div class="ml-11">
              <a 
                href={`${baseUrl}/guestbook`}
                class="inline-block px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors"
              >
                Visit /guestbook â†’
              </a>
            </div>
          </div>

          <div>
            <div class="flex items-center gap-3 mb-2">
              <span class="flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground font-bold">4</span>
              <h3 class="text-lg font-semibold">Use in Your Pages</h3>
            </div>
            <div class="ml-11 bg-card p-4 rounded border border-border">
              <pre class="text-sm"><code>&lt;GuestbookButton client:only="react" /&gt;</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Documentation -->
      <section id="documentation">
        <h2 class="text-3xl font-bold mb-6 font-heading">ğŸ“š Documentation</h2>
        <div class="grid md:grid-cols-2 gap-4">
          <a 
            href="/GUESTBOOK-INDEX.md"
            target="_blank"
            class="p-4 bg-card rounded-lg border border-border hover:border-primary transition-colors group"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold group-hover:text-primary transition-colors">ğŸ“‘ Documentation Index</h3>
              <span class="text-muted-foreground">â†’</span>
            </div>
            <p class="text-sm text-muted-foreground">Start here - navigation hub for all docs</p>
          </a>

          <a 
            href="/SETUP-GUIDE.md"
            target="_blank"
            class="p-4 bg-card rounded-lg border border-border hover:border-primary transition-colors group"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold group-hover:text-primary transition-colors">ğŸ”§ Setup Guide</h3>
              <span class="text-muted-foreground">â†’</span>
            </div>
            <p class="text-sm text-muted-foreground">Step-by-step setup instructions</p>
          </a>

          <a 
            href="/QUICK-REFERENCE.md"
            target="_blank"
            class="p-4 bg-card rounded-lg border border-border hover:border-primary transition-colors group"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold group-hover:text-primary transition-colors">âš¡ Quick Reference</h3>
              <span class="text-muted-foreground">â†’</span>
            </div>
            <p class="text-sm text-muted-foreground">Code snippets and examples</p>
          </a>

          <a 
            href="/README-GUESTBOOK.md"
            target="_blank"
            class="p-4 bg-card rounded-lg border border-border hover:border-primary transition-colors group"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold group-hover:text-primary transition-colors">ğŸ“– Feature Docs</h3>
              <span class="text-muted-foreground">â†’</span>
            </div>
            <p class="text-sm text-muted-foreground">Complete feature documentation</p>
          </a>

          <a 
            href="/ARCHITECTURE-DIAGRAM.md"
            target="_blank"
            class="p-4 bg-card rounded-lg border border-border hover:border-primary transition-colors group"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold group-hover:text-primary transition-colors">ğŸ—ï¸ Architecture</h3>
              <span class="text-muted-foreground">â†’</span>
            </div>
            <p class="text-sm text-muted-foreground">System architecture and data flow</p>
          </a>

          <a 
            href="/TESTING-CHECKLIST.md"
            target="_blank"
            class="p-4 bg-card rounded-lg border border-border hover:border-primary transition-colors group"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold group-hover:text-primary transition-colors">âœ… Testing Guide</h3>
              <span class="text-muted-foreground">â†’</span>
            </div>
            <p class="text-sm text-muted-foreground">Comprehensive testing checklist</p>
          </a>
        </div>
      </section>

      <!-- Important Note -->
      <section class="bg-primary/10 border border-primary/20 p-6 rounded-lg">
        <div class="flex gap-4">
          <div class="text-2xl">ğŸ”‘</div>
          <div>
            <h3 class="text-lg font-semibold mb-2 text-primary font-heading">
              Don't Forget Your API Token!
            </h3>
            <p class="text-sm mb-3">
              Make sure you've added your <strong>WEBFLOW_CMS_SITE_API_TOKEN</strong> to the .env file.
            </p>
            <p class="text-sm text-muted-foreground">
              Get it from: Webflow â†’ Site Settings â†’ Apps & Integrations â†’ API Access
            </p>
          </div>
        </div>
      </section>

      <!-- What's Included -->
      <section>
        <h2 class="text-3xl font-bold mb-6 font-heading">ğŸ“¦ What's Included</h2>
        <div class="space-y-3 text-muted-foreground">
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>Full CMS integration (Create & Update)</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>Form validation with error messages</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>Success feedback with item details</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>Modal UI with Webflow components</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>External embed support</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>TypeScript types throughout</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>Comprehensive documentation</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-green-500 mt-1">âœ“</span>
            <span>Testing checklist & examples</span>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="text-center py-8 border-t border-border">
        <p class="text-muted-foreground text-sm">
          Built with â¤ï¸ for Webflow Cloud
        </p>
        <p class="text-muted-foreground text-xs mt-2">
          Ready to use â€¢ Production tested â€¢ Type-safe
        </p>
      </footer>

    </div>
  </div>
</MainLayout>
